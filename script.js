let Restaurants = [
    {
        0: "Van Hoa",
        1: "14.90",
        2: "Lychenerstraße",
        3:
        {
            0:
            {
                0:
                {
                    "name":"Vit Curry",
                    "id":"00",
                    "Preis": "8.90",
                    "Beschreibung": "Knusprige Ente mit einer herrlichen Currysauce und Reis. Auf Wunsch vegan.",
                    "Beschreibung_en": "Crispy ducked served with a delicious curry sauce and rice. If desired, also vegan.",
                    "Allergene": ["1", "2", "3", "7"]
                },
            },
            1:
            {
                0:
                {
                    "name":"Nem Cuon",
                    "id":"10",
                    "Preis": "4.50",
                    "Beschreibung": "Hausgemachte vietnamesische Sommerrollen mit Garnelen, vietnamesischen Kräutern und Salat, dazu eine Hoisinsauce. Auf Wunsch vegan.",
                    "Beschreibung_en": "Homemade vietnamese summer rolls with shrimps, Vietnamese herbs andsalad served with hoisin sauce. Vegan Option available.",
                    "Allergene": ["1", "2", "3", "7"]
                },
                1:
                {
                    "name":"Nam Ran",
                    "id":"11",
                    "Preis": "4.50",
                    "Beschreibung": `Knusprige Frühlingsrollen gefüllt
mit Schweinefleisch, Morcheln &
Glasnudeln, dazu ein Dressing aus
Fischsauce, Limette und Ingwer
. Auf Wunsch vegan.`,
                    "Beschreibung_en": `Crispy springrolls filled with minced
pork, morels, glasnoodles & a
dressing made of fish sauce, lime
and ginger.`,
                    "Allergene": ["3", "7"]
                },
                2:
                {
                    "name":"Nem Dodu",
                    "id":"12",
                    "Preis": "5.90",
                    "Beschreibung": `Grüner Papayasalat mit Hühnchen,
Karotten, Kräutern, Erdnüssen &
Dressing aus Fischsauce, Limette u.
Ingwer
. Auf Wunsch vegan.
`,
                    "Beschreibung_en": `Green papaya salad with chicken,
carrots, herbs, peanuts & a dressing
made of fish sauce, lime and ginger.
Vegan option available.
`,
                    "Allergene": ["2", "3", "7"]
                },
                3:
                {
                    "name":"Wantan Chien",
                    "id":"13",
                    "Preis": "4.90",
                    "Beschreibung": `Knusprige Wantans gefüllt mit
Hühnchenfleisch, serviert mit Süß Sauer Sauce
. Auf Wunsch vegan.`,
                    "Beschreibung_en": `Crispy wontons filled with chicken,
served with sweet chili sauce
Vegan option available`,
                    "Allergene": ["4"]
                },
                4:
                {
                    "name":"Goi Xoai",
                    "id":"14",
                    "Preis": "5.90",
                    "Beschreibung": `Grüner Mangosalat mit Shrimps,
frischen Kräutern, Erdnüssen &
Dressing aus Fischsauce, Limette u.
Ingwer
. Auf Wunsch vegan.`,
                    "Beschreibung_en": `Mango salad with shrimps, fresh
herbs, peanuts & dressing made of
fish sauce, lime & ginger
Vegan Option available`,
                    "Allergene": ["1", "2", "3", "7", "13"]
                },
                5:
                {
                    "name":"Ga Sate",
                    "id":"15",
                    "Preis": "5.90",
                    "Beschreibung": `Pikant gewürzte Hühnchenfleischspieße mit einer Erdnuss-Kokos-Sauce
. Auf Wunsch vegan`,
                    "Beschreibung_en": `Marinated chicken/tofu skewers with
a peanut coconut sauce
Vegan option available`,
                    "Allergene": ["2", "3"]
                },
                6:
                {
                    "name":"Tom Lan Com",
                    "id":"16",
                    "Preis": "5.90",
                    "Beschreibung": `Knusprig gebackene Garnelen,
ummantelt mit Reisflocken mit
Süß–Sauer-Sauce`,
                    "Beschreibung_en": `Crispy prawns coated in rice flakes
with sweet and sour sauce`,
                    "Allergene": ["1", "4", "5", "13"]
                },
                7:
                {
                    "name":"Ha Cao Tom",
                    "id":"17",
                    "Preis": "5.90",
                    "Beschreibung": `Dumplings gefüllt mit Garnelen
oder vegan mit Gemüse
`,
                    "Beschreibung_en": `Dumplings filled with shrimps
or vegan with vegetables`,
                    "Allergene": ["1", "3", "4", "10", "13"]
                },
                8:
                {
                    "name":"Khoai Lang Chien",
                    "id":"18",
                    "Preis": "5.20",
                    "Beschreibung": `Süßkartoffelpommes mit 
hausgemachter Spicy-Mayonnaise.
 Auf Wunsch mit veganer 
Mayonnaise.
`,
                    "Beschreibung_en": `Sweet potato fries with homemade
vegan spicy mayo.`,
                    "Allergene": ["4", "5", "12"]
                }
            },
            2: {
                0:
                {
                    "name":"Pho Ga",
                    "id":"20",
                    "Preis": "8.90",
                    "Beschreibung": `Hausgemachte, kräftige 
Hühnerbrühe mit Reisbandnudeln, 
Hühnerbrust, frischen 
vietnamesischen Kräutern und 
Sojasprossen, abgeschmeckt mit 
Anis, Zimt und Koriander
oder mit Glasnudeln`,
                    "Beschreibung_en": `Homemade, strong chicken broth 
with thick rice noodles, chicken 
breast, fresh Vietnamese herbs & soy 
bean sprouts, flavoured with anise, 
cinnamon and coriander
or with glass noodles`,
                    "Allergene": ["3"]
                },
                1:
                {
                    "name":"Pho Bo",
                    "id":"21",
                    "Preis": "9.50",
                    "Beschreibung": `Hausgemachte, kräftige Brühe mit 
Reisbandnudeln, Rinderfilet, 
frischen vietnamesischen Kräutern 
und Sojasprossen, abgeschmeckt 
mit Anis, Zimt und Koriander`,
                    "Beschreibung_en": `Homemade, strong broth with thick 
rice noodles, stripes of beef, fresh 
Vietnamese herbs & soy sprouts, 
flavoured with anise, cinnamon and 
coriander`,
                    "Allergene": ["3"]
                },
                2:
                {
                    "name":"Pho Chay Dac Biet",
                    "id":"22",
                    "Preis": "9.50",
                    "Beschreibung": `Hausgemachte, kräftige 
Gemüsebrühe mit Reisbandnudeln, 
Tofu, Pakchoi, Pilzen, 
Frühlingszwiebeln, frischen 
vietnamesischen Kräutern und 
Sojasprossen.`,
                    "Beschreibung_en": `Homemade, rich vegetable broth 
with thick rice noodles, tofu, bok 
choy, mushrooms, spring onions, 
fresh Vietnamese herbs and soy 
sprouts.`,
                    "Allergene": ["3", "10"]
                },
                3:
                {
                    "name":"Canh Rau Chay Gemüsesuppe",
                    "id":"23",
                    "Preis": "8.50",
                    "Beschreibung": `Hausgemachte Brühe mit Gemüse, 
verschiedenen Kräutern, 
Glasnudeln & Tofu`,
                    "Beschreibung_en": `Homemade broth with vegetables, 
mixed herbs, glass noodles and Tofu`,
                    "Allergene": ["3", "10"]
                },
                4:
                {
                    "name":"Wan-Tan-Suppe",
                    "id":"24",
                    "Preis": "8.90",
                    "Beschreibung": `Hausgemachte Hühnerbrühe mit 
Gemüse, verschiedenen Kräutern 
und Wan-Tans gefüllt mit Hühnchen.
- wahlweise mit Wantan Nudeln 
(+1,00€)
. Auf Wunsch vegan`,
                    "Beschreibung_en": `Homemade chicken broth with 
vegetables, herbs and Wontons filled 
with chicken.
- extra Wonton noodles (+1,00€)
Vegan option available.`,
                    "Allergene": ["3", "4", "10"]
                }
            },
            3:
            {
                0:
                {
                    "name":"Com Ga Chien",
                    "id":"30",
                    "Preis": "11.90",
                    "Beschreibung": `Knusprig gebackenes 
Hühnerfleisch mit Gemüse, 
frischem Krautsalat und Curry-Sauce oder Erdnusssauce oder
Hoisinsauce, serviert mit Duftreis
. Auf Wunsch vegan (mit Tofu 
oder Seitan).`,
                    "Beschreibung_en": `Crispy chicken with vegetables, 
mixed salad and curry sauce or
peanut sauce or hoisin sauce, 
served with rice
Vegan option available (with Tofu 
or Seitan)
`,
                    "Allergene": ["2", "3", "4", "6", "7", "10"]
                },
                1:
                {
                    "name":"Thit Bo Xao",
                    "id":"31",
                    "Preis": "11.90",
                    "Beschreibung": `Gebratenes Rindfleisch mit 
verschiedenem Gemüse 
(wahlweise mit Hühnchen oder 
Garnelen)
. Auf Wunsch vegan (mit Tofu 
oder Seitan).`,
                    "Beschreibung_en": `Roasted beef with mixed 
vegetables (optional also with 
chicken or shrimp)
Vegan option available (with 
Tofu or Seitan).
`,
                    "Allergene": ["3", "4", "7", "10"]
                },
                2:
                {
                    "name":"Com Vit Chien",
                    "id":"32",
                    "Preis": "11.90",
                    "Beschreibung": `Knusprig gebackene Ente mit 
Gemüse, frischem Krautsalat und 
Curry-Sauce, oder Hosinsauce, 
oder Erdnusssauce, serviert mit 
Duftreis
. Auf Wunsch vegan (mit Tofu 
oder Seitan).`,
                    "Beschreibung_en": `Crispy duck with vegetables, 
mixed salad and curry sauce or 
hoisinsauce or peanut sauce, 
served with rice.
Vegan option available (with Tofu 
or Seitan)
`,
                    "Allergene": ["2", "3", "4", "7", "10"]
                },
                3:
                {
                    "name":"Ca Lac Nuong",
                    "id":"33",
                    "Preis": "14.50",
                    "Beschreibung": `Gegrillter Lachs serviert mit 
gebratenem Gemüse, dazu 
Reis - wahlweise auch mit 
Süßkartoffelpommes (+2,50€)
. Auf Wunsch vegan.`,
                    "Beschreibung_en": `Grilled salmon with roasted 
vegetables, served with rice
optional also with sweet potato 
fries 
(+2,50€)
Vegan option available.`,
                    "Allergene": ["3", "4", "7", "10"]
                },
                4:
                {
                    "name":"Tom Nuong",
                    "id":"34",
                    "Preis": "14.50",
                    "Beschreibung": `Gegrillte Garnelen serviert mit 
gebratenem Gemüse, dazu Reis -
wahlweise auch mit 
Süßkartoffelpommes (+2,50 Euro)`,
                    "Beschreibung_en": `Grilled prawns served with roasted 
vegetables, served with rice or 
optional also with sweet potato fries 
available (+2,50 Euro)`,
                    "Allergene": ["1", "3", "4", "7"]
                }
            },
            4:
            {
                0:
                {
                    "name":"Goi-Mien-Glasnudelsalat",
                    "id":"40",
                    "Preis": "8.90",
                    "Beschreibung": `Glasnudelsalat mit frischem 
Krautsalat, frischen Kräutern, 
Hühnerfleisch, Erdnüssen & 
Fischsaucen Dressing -
wahlweise auch mit Rindfleisch 
(+1,00€)
. Auf Wunsch vegan.`,
                    "Beschreibung_en": `Glass noodle salad with mixed 
salad, fresh herbs, chicken, 
peanuts and fishsauce dressing -
optional also with beef (+1,00€)
Vegan option available.
`,
                    "Allergene": ["2", "3", "4", "6", "7"]
                },
                1:
                {
                    "name":"Mi Udon",
                    "id":"41",
                    "Preis": "9.50",
                    "Beschreibung": `Udonnudeln mit Hühnerfleisch, 
Curry-Sauce, verschiedenem 
Gemüse, vietnamesischen 
Kräutern & Erdnüssen
. Auf Wunsch vegan.`,
                    "Beschreibung_en": `Udon noodles with chicken, curry 
sauce, mixed vegetables, 
Vietnamese herbs and peanuts
Vegan option available`,
                    "Allergene": ["2", "3", "4", "6", "7"]
                },
                2:
                {
                    "name":"Udon Xao",
                    "id":"42",
                    "Preis": "11.90",
                    "Beschreibung": `Gebratene Udonnudeln mit 
Rindfleisch und gemischten 
Gemüse, Poree & Röstzwiebeln
- wahlweise auch mit 
gebackener Ente oder 
Hähnchen (+3,00€)
. Auf Wunsch vegan`,
                    "Beschreibung_en": `Pan-fried udon noodles with beef, 
mixed vegetables, leeks & fried 
onions - optional with fried duck 
or chicken (+3,00€)
Vegan option available.`,
                    "Allergene": ["2", "3", "4", "5"]
                },
                3:
                {
                    "name":"Pho Xao",
                    "id":"43",
                    "Preis": "11.90",
                    "Beschreibung": `Gebratene Reisbandnudeln mit 
Rindfleisch, Pakchoi, Sojasprossen, 
Poree & Röstzwiebeln - wahlweise 
auch mit gebackener Ente oder 
Garnelen (+3,00€)

. Auf Wunsch vegan.
`,
                    "Beschreibung_en": `Pan-fried rice noodles with beef, 
bok choy, bean sprouts, leeks & 
fried onions - optional with fried 
duck or prawns (+3,00€)
Vegan Option available.`,
                    "Allergene": ["3", "4", "5"]
                },
                4:
                {
                    "name":"Mien Xao",
                    "id":"44",
                    "Preis": "11.90",
                    "Beschreibung": `Gebratene Glasnudeln mit 
Rindfleisch oder wahlweise mit 
Hühnchen, Pakchoi, 
Sojasprossen, Poree & 
Röstzwiebeln
. Auf Wunsch vegan.`,
                    "Beschreibung_en": `Pan-fried glasnoodles with beef 
or optional with chicken, bok 
choy, bean sprouts, leeks & fried 
onions.
Vegan Option available.
`,
                    "Allergene": ["3", "4", "5"]
                }
            },
            5:
            {
                0:
                {
                    "name":"Com Chay",
                    "id":"50",
                    "Preis": "10.90",
                    "Beschreibung": `Gebratener Pakchoi mit Pilzen 
und Cashewnüssen, serviert mit 
Duftreis`,
                    "Beschreibung_en": `Pan-fried bok choy with 
mushrooms and cashews nuts, 
served with rice
`,
                    "Allergene": ["3", "4"]
                },
                1:
                {
                    "name":"Dau Xao Nam",
                    "id":"51",
                    "Preis": "11.50",
                    "Beschreibung": `Gebratener Tofu und Seitan, mit 
verschiedenen Pilzen, 
Zuckerschoten & Karotten, dazu 
Duftreis`,
                    "Beschreibung_en": `Stirfried tofu and seitan with 
mixed mushrooms, sugar snaps & 
carots, served with rice`,
                    "Allergene": ["3", "4", "8", "10", "13", "15"]
                }
            },
            6:
            {
                0:
                {
                    "name":"Bun Chay",
                    "id":"60",
                    "Preis": "11.50",
                    "Beschreibung": `Marinierter Tofu und Seitan mit 
Zitronengrass, serviert mit 
Reisnudeln, Gemüse, frischem 
Salat, Chilischoten, Erdnüssen, 
Röstzwiebeln und dazu ein 
hausgemachtes Sojasaucen-Dressing
`,
                    "Beschreibung_en": `Marinated lemongrass tofu and 
seitan, served with rice noodles, 
vegetables, salad, chili peppers, 
peanuts, fried onions and a 
homemade soy sauce dressing`,
                    "Allergene": ["2", "3", "4", "6"]
                }
            },
            7:
            {
                0:
                {
                    "name":"Bo Bao Burger",
                    "id":"70",
                    "Preis": "9.50",
                    "Beschreibung": `Hefeteig-Burger mit Rindfleisch, 
Rettich, Salat, Gurke, Koriander, 
Zwiebeln & knusprigen 
Reisflocken, dazu Teriyakisauce 
& MayonnaiseHausgemachte vietnamesische Sommerrollen mit Garnelen, vietnamesischen Kräutern und Salat, dazu eine Hoisinsauce. Auf Wunsch vegan.`,
                    "Beschreibung_en": `Yeast bun burger with beef, 
pickled radish, salad, cucumber, 
cilantro, onions & crispy rice 
flakes, served with teriyaki sauce`,
                    "Allergene": ["3", "4", "5", "7", "10", "12"]
                },
                1:
                {
                    "name":"Vit Bao Burger",
                    "id":"71",
                    "Preis": "9.50",
                    "Beschreibung": `Hefeteig-Burger mit knusprigen 
Entenfleisch, Rettich, Salat, 
Gurke, Koriander. Zwiebeln & 
knusprigen Reisflocken, dazu 
Hoisinsauce & Mayonnaise
`,
                    "Beschreibung_en": `Hoisinsauce & Mayonnaise
Yeast bun burger with baked 
duck, pickled radish, salad, 
cucumber, cilantro, onions crispy 
rice flakes, served with hoisin 
sauce & mayo`,
                    "Allergene": ["3", "4", "5", "7", "10", "12"]
                },
                2:
                {
                    "name":"Vegan Bao Burger",
                    "id":"72",
                    "Preis": "9.50",
                    "Beschreibung": `Hefeteig-Burger mit frittiertem 
Tofu oder wahlweise Seitan, 
Rettich, Salat, Gurke, Koriander. 
Zwiebeln & knusprigen 
Reisflocken, dazu Hoisinsauce & 
veganer Mayonnaise`,
                    "Beschreibung_en": `Yeast bun burger with fried tofu or 
either seitan, pickled radish, 
salad, cucumber, cilantro, onions 
crispy rice flakes, served with 
hoisin sauce & vegan mayo`,
                    "Allergene": ["3", "4", "10", "12"]
                }
            },
            8:
            {
                0:
                {
                    "name":"Xoi Xoai",
                    "id":"80",
                    "Preis": "5.50",
                    "Beschreibung": `schwarzer Klebereis mit 
Mango,Erdnüssen & 
Kokosmilch`,
                    "Beschreibung_en": `black sticky rice with mango, 
peanuts & coconut milk`,
                    "Allergene": ["2", "4"]
                },
                1:
                {
                    "name":"Banh Chuoi",
                    "id":"81",
                    "Preis": "4.50",
                    "Beschreibung": `Bananenküchlein mit Erdnuss & 
Kokoscreme`,
                    "Beschreibung_en": `Banana cake with peanuts & 
coconut cream`,
                    "Allergene": ["2", "4"]
                }
            }
        }
    }]

let Menüpunkte = ["Tagesgerichte","Vorspeisen","Suppen","Reis","Veggie-Reis","Veggie-Nudeln","Burgers","Desserts"]
let Lieferkosten = 12

function renderSlider(){
    for(let i = 0; i < Menüpunkte.length; i++){
        document.getElementById("slider").innerHTML += /*html*/`
            <div><a href="#Menüpunkt${i}a"><div>${Menüpunkte[i]}</div></a></div>
        `;
    }
}

function renderMenüBestellung() {
    for(let i = 0; i < Menüpunkte.length; i++){
        document.getElementById("left").innerHTML += /*html*/`
            <div class="Menüpunkt" id="Menüpunkt${i}">
                <div class="MenüAbschnitte">
                    <span id="MenüÜberschriften">${Menüpunkte[i]}</span>
                </div>
            </div>
        `;
        let b = i;
        for(let j = 0; j < Object.keys(Restaurants[0][3][b]).length;j++){
            document.getElementById(`Menüpunkt${b}`).innerHTML += /*html*/`
                <div class="Menüpunkte">${Restaurants[0][3][b][j]["name"]}</div>
                <div class="Beschreibung"><div id="description">${Restaurants[0][3][b][j]["Beschreibung"]}<sup>${Restaurants[0][3][b][j]["Allergene"]}</sup></div><div id="addButton"><a onclick="addButton(${b},${j})"><img src="img/plus.png" alt=""></a></div></div>
                <div class="Preis"><div id="Preis">${Restaurants[0][3][b][j]["Preis"]} €</div></div>
            `;
            if(j == Object.keys(Restaurants[0][3][b]).length-1){
                document.getElementById(`Menüpunkt${b}`).innerHTML += /*html*/`
                <div id="Menüpunkt${b}a" style="position:relative;bottom:133px;"></div>
            `;
            }
        }
        
    }
    document.getElementById("left").innerHTML +=
    "<div style='height:70px;'></div>"
}


if(sessionStorage.length < 1){
    localStorage.clear()
}

function renderMenü() {
    for(let i = 0; i < Menüpunkte.length; i++){
        document.getElementById("left2").innerHTML += /*html*/`
            <div class="Menüpunkt2" id="Menüpunkt${i}">
                <div class="MenüAbschnitte">
                    <span id="MenüÜberschriften">${Menüpunkte[i]}</span>
                </div>
            </div>
        `;
        let b = i;
        for(let j = 0; j < Object.keys(Restaurants[0][3][b]).length;j++){
            document.getElementById(`Menüpunkt${b}`).innerHTML += /*html*/`
                <div class="Menüpunkte">${Restaurants[0][3][b][j]["name"]}</div>
                <div class="Beschreibung"><div id="description">${Restaurants[0][3][b][j]["Beschreibung"]}<sup>${Restaurants[0][3][b][j]["Allergene"]}</sup></div><div class="Preis2"><div id="Preis2">${Restaurants[0][3][b][j]["Preis"]} €</div></div></div>
                
            `;
        }
    }
    document.getElementById("left2").innerHTML +=
    "<div style='height:70px;'></div>"
}

function remove(b){
    console.log(b)
    localStorage.removeItem(b)
    addBasket()
    number()
}

function addButton(b,j,i){
    let xy = JSON.parse(localStorage.getItem(Restaurants[0][3][b][j]))
    let yz = document.getElementById(`item${i}`)
    if(xy == null){
        xy = Restaurants[0][3][b][j]["name"]
    }
    let a =  JSON.parse(localStorage.getItem(xy))
    if(a == undefined){
        a = 0
    }   
    a = +a
    a += 1
    localStorage.setItem(xy,a)
    addBasket()
    number()
}

function add(i){
    let yz = document.getElementById(`item${i}`).innerHTML
    let o =  JSON.parse(localStorage.getItem(yz))
    o += 1
    localStorage.setItem(yz,o)
    addBasket()
    number()
}

function reduce(i,b,j){
    let yz = document.getElementById(`item${i}`).innerHTML
    let o =  JSON.parse(localStorage.getItem(yz))
    o -= 1
    if(o == 0){
        localStorage.removeItem(yz)
    }else{
        localStorage.setItem(yz,o)
    }
    addBasket()
    number()
}

function update(i){
    let yz = document.getElementById(`item${i}`).innerHTML
    let u = document.getElementById(`quantity${i}`).value
    u = parseInt(u)
    if(u < 1 || isNaN(u) === true){
        u = 0
    }
    localStorage.setItem(yz,u)
    addBasket()
    setTimeout(function() {
        document.getElementById(`quantity${i}`).focus()
      }, 1);
    number()
}

function sendCursorToEnd(i){
    console.log(i)
    i.selectionStart = i.selectionEnd = 10000;
}
    

function addBasket(b,j){
    document.getElementById("Gerichte").innerHTML = ""
    if(localStorage.length == 0){
        document.getElementById("Gerichte").innerHTML += /*html*/`
            <div class="basket">Es wurden noch keine Gerichte hinzugefügt.</div>
        `;

    }
    for (var i = 0; i < localStorage.length; i++){
        let a =  JSON.parse(localStorage.getItem(localStorage.key(i)))
        a = parseInt(a)
        console.log(a)
        document.getElementById("Gerichte").innerHTML += /*html*/`
        <div class="basket"><div id="item${i}">${localStorage.key(i)}</div><div id="basketRight"><img onclick="reduce(${i},${b},${j})" src="img/min_white.png" alt="Anzahl des Gerichts ${localStorage.key(i)} reduzieren"> <textarea maxlength="7" oninput="update(${i})" onfocus="sendCursorToEnd(this)" name="" id="quantity${i}">${a}</textarea><img onclick="add(${i},${b},${j})" src="img/plus_white.png" alt="Anzahl des Gerichts ${localStorage.key(i)} erhöhen"><img onclick="remove('${localStorage.key(i)}')" src="img/close.png" alt=""></div></div>
    `;
        if(a >= 10){
            document.getElementById(`quantity${i}`).style.width = "20px"
        }
        if(a >= 100){
            document.getElementById(`quantity${i}`).style.width = "30px"
        }
        if(a >= 1000){
            document.getElementById(`quantity${i}`).style.width = "40px"
        }
        if(a >= 10000){
            document.getElementById(`quantity${i}`).style.width = "50px"
        }
        if(a >= 100000){
            document.getElementById(`quantity${i}`).style.width = "60px"
        }
        if(a >= 1000000){
            document.getElementById(`quantity${i}`).style.width = "70px"
        }
    }
    
    let Summe = 0
    for(key in localStorage){
        if(key == "length" || key== "clear"|| key== "getItem"|| key== "key"|| key== "removeItem"|| key == "setItem"){
            continue
        }else{
            let a1 = JSON.parse(localStorage.getItem(key))
            console.log(a1)
            for(a in Restaurants[0][3]){
                for( b in Restaurants[0][3][a]){
                    if(Restaurants[0][3][a][b]["name"] === key){
                        let a2= (Restaurants[0][3][a][b]["Preis"])
                        Summe += a1*a2
                    }
                }
            }
        }
        
        
    } 
    Summe = Summe.toFixed(1)
    Summe = +Summe
    Summe = Lieferkosten + Summe
    if(Summe-12 <= 0){
        document.getElementById("Summe").innerHTML = /*html*/`
        <div id="sumMb"><div>Lieferkosten</div><div>${Lieferkosten} €</div></div>
        <div id="sumMb2"><div>Summe</div><div>${Summe-12} €</div></div>` 
    }else{
        document.getElementById("Summe").innerHTML = /*html*/`
        <div id="sumMb"><div>Lieferkosten</div><div>${Lieferkosten} €</div></div>
        <div id="sumMb2"><div>Summe</div><div>${Summe} €</div></div>` 
    }
    
}

function basketLength(){
    console.log(document.getElementById("basket").style.height)
    // if( document.getElementById("basket").style.height )
    setTimeout(basketLength,100)
}

function openMenu(){
    document.getElementById("overlayMenu").style.display = "flex"
}

function closeMenu(){
    document.getElementById("overlayMenu").style.display = "none"
}

function emptyBasket(){
    localStorage.clear()
}

function number(){
    let number = 0
    for(key in localStorage){
        if(key == "length" || key== "clear"|| key== "getItem"|| key== "key"|| key== "removeItem"|| key == "setItem"){
            continue
        }else{
            let num = localStorage.getItem(key)
        number += parseInt(num)
        }
    }
    number=parseInt(number)
    document.getElementById("number_inner").innerHTML = number
    if(number >= 0){
        document.getElementById(`number`).style.width = "12px"
        document.getElementById(`number`).style.right = "14px"
    }
    if(number >= 10){
        document.getElementById(`number`).style.width = "20px"
        document.getElementById(`number`).style.right = "11px"
    }
    if(number >= 100){
        document.getElementById(`number`).style.width = "30px"
        document.getElementById(`number`).style.right = "6px"

    }
    if(number >= 1000){
        document.getElementById(`number`).style.width = "40px"
        document.getElementById(`number`).style.right = "1px"

    }
    if(number >= 10000){
        document.getElementById(`number`).style.width = "50px"
        document.getElementById(`number`).style.right = "-3px"

    }
    if(number >= 100000){
        document.getElementById(`number`).style.width = "60px"
        document.getElementById(`number`).style.right = "-9px"

    }
    if(number >= 1000000){
        document.getElementById(`number`).style.width = "70px"
        document.getElementById(`number`).style.right = "-14px"

    }
}


    // Detect input method and apply/remove 'keyboard-focus' class on body
function handleFirstTab(event) {
    if (event.key === "Tab") { // Detects if the user is navigating with Tab (keyboard)
        document.body.classList.add("keyboard-focus"); // Add class for keyboard
        window.removeEventListener("keydown", handleFirstTab);
        window.addEventListener("mousedown", handleMouseDownOnce);
    }
}

function handleMouseDownOnce() {
    document.body.classList.remove("keyboard-focus"); // Remove class for mouse
    window.removeEventListener("mousedown", handleMouseDownOnce);
    window.addEventListener("keydown", handleFirstTab);
}

// Initial event listeners
window.addEventListener("keydown", handleFirstTab);
  